<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Z-Spin â€” Stellar Hackathon 2026</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/@stellar/stellar-sdk@13/dist/stellar-sdk.min.js"></script>
</head>
<body>

<!-- Winner overlay -->
<div id="winner-overlay">
  <div class="w-card">
    <div class="w-confetti" id="w-confetti"></div>
    <div class="w-trophy">ğŸ†</div>
    <div class="w-title">Winner!</div>
    <div class="w-sub">Draw verified with ZK Proof Â· Stellar Protocol 25</div>
    <div id="w-addr" class="w-addr">â€”</div>
    <div id="w-prize" class="w-prize"></div>
    <div id="w-badge" class="w-badge">Entry #â€”</div>
    <div id="w-tx" class="w-tx" style="display:none"></div>
    <button class="btn btn-ghost btn-overlay-close" onclick="closeWinnerOverlay()">âœ• Close</button>
  </div>
</div>

<div id="app">

  <!-- â”€â”€ HEADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <header>
    <div class="logo">
      <div class="logo-icon">ğŸ°</div>
      <div class="logo-text">
        <h1>Z-Spin</h1>
        <p>Provable Randomness Â· Stellar Hackathon 2026</p>
      </div>
    </div>
    <div class="header-right">
      <div class="badge"><div class="dot-live"></div> Testnet</div>
      <button id="wallet-btn" onclick="connectWallet()">
        <div class="wallet-dot" id="wallet-dot"></div>
        <span id="wallet-label">Connect Freighter</span>
      </button>
    </div>
  </header>

  <!-- â”€â”€ WHEEL SECTION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <section class="wheel-section">
    <div class="wheel-glow-ring"></div>
    <div class="roulette-outer">
      <div class="roulette-pointer">â–¼</div>
      <canvas id="roulette-canvas" width="360" height="360"></canvas>
    </div>
    <button id="spin-btn" class="btn btn-spin" onclick="startDraw()" disabled>
      <span id="spin-btn-inner">ğŸ° Spin &amp; Draw</span>
    </button>
    <div class="wheel-stats">
      <div class="wstat"><span class="wstat-val" id="stat-participants">0</span><span class="wstat-lbl">Players</span></div>
      <div class="wstat-div"></div>
      <div class="wstat"><span class="wstat-val" id="stat-prize">â€”</span><span class="wstat-lbl">XLM Prize</span></div>
      <div class="wstat-div"></div>
      <div class="wstat"><span class="wstat-val" id="stat-phase">SETUP</span><span class="wstat-lbl">Phase</span></div>
    </div>
  </section>

  <!-- â”€â”€ FORM BENTO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <section class="form-bento">

    <!-- Step 1: wallet gate -->
    <div class="fcard" id="fcard-wallet">
      <div class="fcard-num">01</div>
      <div class="fcard-title">Connect Wallet</div>
      <p class="fcard-desc">Connect your Freighter wallet to start. You will be the draw host and prize sender.</p>
      <button class="btn btn-primary" onclick="connectWallet()" id="btn-connect-form">
        <span>ğŸ”— Connect Freighter</span>
      </button>
      <div id="wallet-connected-state" style="display:none">
        <div class="connected-pill">
          <div class="wallet-dot on"></div>
          <span id="wallet-short-label">â€”</span>
        </div>
      </div>
    </div>

    <!-- Step 2: prize + count -->
    <div class="fcard fcard-disabled" id="fcard-setup">
      <div class="fcard-num">02</div>
      <div class="fcard-title">Draw Config</div>
      <p class="fcard-desc">Set the total prize to distribute and the number of participants.</p>
      <div class="field-row">
        <div class="field">
          <label>Prize (XLM)</label>
          <div class="input-addon">
            <input type="number" id="input-prize-amount" placeholder="100" min="0.0000001" step="any" />
            <span class="addon">XLM</span>
          </div>
        </div>
        <div class="field">
          <label>Participants</label>
          <div class="input-addon">
            <input type="number" id="input-participants-count" placeholder="10" min="2" max="500" />
            <span class="addon">pax</span>
          </div>
        </div>
      </div>
      <button class="btn btn-primary" onclick="confirmSetup()" id="btn-confirm-setup">Confirm â†’</button>
    </div>

    <!-- Step 3: participant wallets -->
    <div class="fcard fcard-disabled fcard-wide" id="fcard-wallets">
      <div class="fcard-num">03</div>
      <div class="fcard-title">Participant Wallets</div>
      <div class="wallet-prog-row">
        <span id="wprog-label">0 / 0 registered</span>
        <div class="wprog-bar"><div class="wprog-fill" id="wprog-fill" style="width:0%"></div></div>
      </div>
      <div class="wallet-entry-row" id="wallet-entry-row">
        <input type="text" id="input-participant" placeholder="G... Stellar address (56 chars)" />
        <button class="btn btn-primary btn-sm" onclick="addParticipant()" id="btn-add-wallet">+ Add</button>
      </div>
      <div id="participants-grid"></div>
    </div>

    <!-- Activity log -->
    <div class="fcard fcard-log" id="fcard-log">
      <div class="fcard-title"><span style="margin-right:6px">ğŸ“¡</span>Activity</div>
      <div id="event-log">
        <div class="log-entry info">System ready â€” connect your Freighter wallet to begin.</div>
      </div>
    </div>

    <!-- ZK info row -->
    <div class="fcard fcard-zk" id="fcard-zk">
      <div class="fcard-title"><span style="margin-right:6px">ğŸ§®</span>ZK Proof</div>
      <div class="zk-grid">
        <div class="zk-item"><span class="zk-lbl">Commitment</span><span class="zk-val dim" id="zk-commitment">â€”</span></div>
        <div class="zk-item"><span class="zk-lbl">On-chain</span><span class="zk-val dim" id="zk-onchain">pending</span></div>
        <div class="zk-item"><span class="zk-lbl">Winner idx</span><span class="zk-val dim" id="zk-winner">â€”</span></div>
        <div class="zk-item"><span class="zk-lbl">Noir proof</span><span class="zk-val dim" id="zk-proof-status">pending</span></div>
      </div>
      <a id="noir-proof-link" href="#" style="display:none;font-size:.73rem;color:var(--pink);margin-top:8px;display:none">Download proof JSON â†’</a>
    </div>

  </section><!-- /form-bento -->

</div><!-- /app -->

<script src="app.js"></script>
</body>
</html>
